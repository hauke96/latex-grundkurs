% Defines an environment for latexcode
\newenvironment{latexcode}
 {\VerbatimEnvironment
  \begin{VerbatimOut}{latexcode.out}}
  {\end{VerbatimOut}%
  \inputminted{latex}{latexcode.out}}

\newenvironment{smalllatexcode}
 {\VerbatimEnvironment
  \begin{VerbatimOut}{latexcode.out}}
  {\end{VerbatimOut}%
  \inputminted[fontsize=\scriptsize]{latex}{latexcode.out}}